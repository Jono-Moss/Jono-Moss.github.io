<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="In this guide, I go over how to create a Windows, Linux and OpnSense node in EVE-NG">
<title>How to create a Windows, Linux and OpnSense node in EVE-NG</title>

<link rel='canonical' href='http://localhost:1313/post/eve-ng-create-win-lin-op-nodes-16-07-2024/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="How to create a Windows, Linux and OpnSense node in EVE-NG">
<meta property='og:description' content="In this guide, I go over how to create a Windows, Linux and OpnSense node in EVE-NG">
<meta property='og:url' content='http://localhost:1313/post/eve-ng-create-win-lin-op-nodes-16-07-2024/'>
<meta property='og:site_name' content='Jonathan Moss'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Software' /><meta property='article:tag' content='Home Lab' /><meta property='article:tag' content='Networking' /><meta property='article:tag' content='Virtual Machine' /><meta property='article:published_time' content='2024-07-16T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2024-07-16T00:00:00&#43;00:00'/><meta property='og:image' content='http://localhost:1313/post/eve-ng-create-win-lin-op-nodes-16-07-2024/splash.jpg' />
<meta name="twitter:title" content="How to create a Windows, Linux and OpnSense node in EVE-NG">
<meta name="twitter:description" content="In this guide, I go over how to create a Windows, Linux and OpnSense node in EVE-NG"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='http://localhost:1313/post/eve-ng-create-win-lin-op-nodes-16-07-2024/splash.jpg' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu15867392520796615511.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Jonathan Moss</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/Jono-Moss'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#intro">Intro</a>
      <ol>
        <li><a href="#node-vm-creations">Node VM Creations</a>
          <ol>
            <li><a href="#download-the-isos">Download the ISO&rsquo;s</a></li>
            <li><a href="#create-the-folders-on-eve-ng">Create the folders on EVE-NG</a></li>
            <li><a href="#copy-the-isos-to-the-folders">Copy the ISO&rsquo;s to the folders</a></li>
            <li><a href="#create-the-virtual-disks-hdds-for-the-vms">Create The Virtual Disks (HDD&rsquo;s) for the VM&rsquo;s</a></li>
            <li><a href="#installing-the-oses-on-the-vms--nodes">Installing the OSes on the VMs / Nodes</a></li>
            <li><a href="#commit-vms">Commit VM&rsquo;s</a></li>
            <li><a href="#removes-isos-from-the-machine">Removes ISO&rsquo;s from the machine</a></li>
            <li><a href="#fix-file-permissions">Fix file Permissions</a></li>
            <li><a href="#optional---compress-the-vms-hdds">Optional - Compress the VM&rsquo;s HDD&rsquo;s</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#webui-access-method">WebUI Access Method</a>
      <ol>
        <li><a href="#to-setup-opnsense-web-ui-from-wan">To setup OpnSense web UI from wan</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/post/eve-ng-create-win-lin-op-nodes-16-07-2024/">
                <img src="/post/eve-ng-create-win-lin-op-nodes-16-07-2024/splash_hu12615582883596499221.jpg"
                        srcset="/post/eve-ng-create-win-lin-op-nodes-16-07-2024/splash_hu12615582883596499221.jpg 800w, /post/eve-ng-create-win-lin-op-nodes-16-07-2024/splash_hu9462434095246570479.jpg 1600w"
                        width="800" 
                        height="450" 
                        loading="lazy"
                        alt="Featured image of post How to create a Windows, Linux and OpnSense node in EVE-NG" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/software/" >
                Software
            </a>
        
            <a href="/categories/home-lab/" >
                Home Lab
            </a>
        
            <a href="/categories/networking/" >
                Networking
            </a>
        
            <a href="/categories/virtual-machine/" >
                Virtual Machine
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/eve-ng-create-win-lin-op-nodes-16-07-2024/">How to create a Windows, Linux and OpnSense node in EVE-NG</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            In this guide, I go over how to create a Windows, Linux and OpnSense node in EVE-NG
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">16 Jul 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    4 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <div class="video-wrapper">
    <iframe loading="lazy" 
            src="https://www.youtube.com/embed/sytxWt-j3lk" 
            allowfullscreen 
            title="YouTube Video"
    >
    </iframe>
</div>

<h2 id="intro">Intro
</h2><p>In this guide we will create a Windows 10, OpnSense and a Debian 12 node.<br>
The official notes can be found on EVE-NG&rsquo;s website:<br>
<a class="link" href="https://www.eve-ng.net/index.php/documentation/howtos/"  target="_blank" rel="noopener"
    >https://www.eve-ng.net/index.php/documentation/howtos/</a></p>
<p>There are guides on how to add and create all available nodes on EVE-NG. So it is recommended to have a look at them in order for you to add the nodes you require.</p>
<h3 id="node-vm-creations">Node VM Creations
</h3><h4 id="download-the-isos">Download the ISO&rsquo;s
</h4><p>Download the desired ISO&rsquo;s. In my case I have downloaded:<br>
OpnSense 24<br>
Windows 10 (64 bit)<br>
Debian 12 (net Installer)</p>
<h4 id="create-the-folders-on-eve-ng">Create the folders on EVE-NG
</h4><p>SSH into the EVE-NG machine and create a folder in the:<br>
<code>bash /opt/unetlab/addons/qemu/</code><br>
folder<br>
For example I created the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir /opt/unetlab/addons/qemu/win-10x64Pro/
</span></span><span class="line"><span class="cl">mkdir /opt/unetlab/addons/qemu/linux-debian-12/
</span></span><span class="line"><span class="cl">mkdir /opt/unetlab/addons/qemu/opnsense-24/
</span></span></code></pre></div><h4 id="copy-the-isos-to-the-folders">Copy the ISO&rsquo;s to the folders
</h4><p>Next I will use <code>SCP</code> to copy the ISO&rsquo;s. from my downloads folder into the desired folder we have created for the VM&rsquo;s.<br>
It is important that we name the ISO <code>cdrom.iso</code> when we add it to the folder. Here are my <code>SCP</code> commands</p>
<p>OpnSense:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">scp /Users/jono/Downloads/OPNsense-24.1-dvd-amd64.iso root@10.0.0.9:/opt/unetlab/addons/qemu/opnsense-24/cdrom.iso
</span></span></code></pre></div><p>Debian 12:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">scp /Users/jono/Downloads/debian-12.6.0-amd64-netinst.iso root@10.0.0.9:/opt/unetlab/addons/qemu/linux-debian-12/cdrom.iso
</span></span></code></pre></div><p>Windows 10:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">scp /Users/jono/Downloads/Win10_22H2_EnglishInternational_x64v1.iso root@10.0.0.9:/opt/unetlab/addons/qemu/win-10x64Pro/cdrom.iso
</span></span></code></pre></div><h4 id="create-the-virtual-disks-hdds-for-the-vms">Create The Virtual Disks (HDD&rsquo;s) for the VM&rsquo;s
</h4><p>Next we need to create the virtual disks for each VM / Node to use.<br>
SSH into the EVE-NG again and do the following:</p>
<p>OpnSense:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/opnsense-24/
</span></span><span class="line"><span class="cl">/opt/qemu/bin/qemu-img create -f qcow2 virtioa.qcow2 10G
</span></span></code></pre></div><p>Debian 12:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/linux-debian-12/
</span></span><span class="line"><span class="cl">/opt/qemu/bin/qemu-img create -f qcow2 virtioa.qcow2 30G
</span></span></code></pre></div><p>Windows 10:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/win-10x64Pro/
</span></span><span class="line"><span class="cl">/opt/qemu/bin/qemu-img create -f qcow2 virtioa.qcow2 60G
</span></span></code></pre></div><h4 id="installing-the-oses-on-the-vms--nodes">Installing the OSes on the VMs / Nodes
</h4><ol>
<li>Log In to EVE-NG Using the &ldquo;HTML 5&rdquo; session.</li>
<li>Create a new lab and add the newly created nodes.</li>
<li>Connect the node to your home LAN cloud/internet in order for it to be able to get updates and fully install from the internet. However, do not add the Windows 10 node to the internet, this will just quickly allow us to bypass the &ldquo;Online Microsoft Account&rdquo; link stage.</li>
<li>start each node and complete the installation of. the OSes.</li>
<li>Once completed, Shutdown and stop each node.</li>
</ol>
<h4 id="commit-vms">Commit VM&rsquo;s
</h4><ol>
<li>
<p>Check lab ID number on EVE side bar “Lab details” and we need to also get the &ldquo;Node Number&rdquo;. number of each node which can be seen in the &ldquo;Nodes&rdquo; List</p>
</li>
<li>
<p>SSH into the EVE-NG machine and <code>cd</code> into the labs folder.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/tmp/0/the-lab-id-here/
</span></span></code></pre></div><ol start="3">
<li>We will go into the nodes one by one and convert the temp VM to be the &ldquo;main&rdquo; vm for all future nodes of that type. For example</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/tmp/0/the-lab-id-here/0/
</span></span><span class="line"><span class="cl">qemu-img commit virtioa.qcow2
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/tmp/0/the-lab-id-here/1/
</span></span><span class="line"><span class="cl">qemu-img commit virtioa.qcow2
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/tmp/0/the-lab-id-here/2/
</span></span><span class="line"><span class="cl">qemu-img commit virtioa.qcow2
</span></span></code></pre></div><h4 id="removes-isos-from-the-machine">Removes ISO&rsquo;s from the machine
</h4><p>Now we need to <code>cd</code> into each the VM folders again and remove the ISO images.</p>
<p>OpnSense:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/opnsense-24/
</span></span><span class="line"><span class="cl">rm -f cdrom.iso
</span></span></code></pre></div><p>Debian 12:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/linux-debian-12/
</span></span><span class="line"><span class="cl">rm -f cdrom.iso
</span></span></code></pre></div><p>Windows 10:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/win-10x64Pro/
</span></span><span class="line"><span class="cl">rm -f cdrom.iso
</span></span></code></pre></div><h4 id="fix-file-permissions">Fix file Permissions
</h4><p>lastly we need to run the following to fix any permission issues</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">/opt/unetlab/wrappers/unl_wrapper -a fixpermissions
</span></span></code></pre></div><h4 id="optional---compress-the-vms-hdds">Optional - Compress the VM&rsquo;s HDD&rsquo;s
</h4><ol>
<li>You can <code>cd</code> into each VM&rsquo;s folder again and sparsify the virtual disk to compress the them, for example to compress the windows 10 VM we will do the following:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /opt/unetlab/addons/qemu/win-10x64Pro/
</span></span><span class="line"><span class="cl">virt-sparsify  --compress virtioa.qcow2 compressedvirtioa.qcow2
</span></span></code></pre></div><p>This will take some time and another compressed image will be created in the same image directory</p>
<ol start="2">
<li>Rename the original image to virtioa-o.qcow2:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mv virtioa.qcow2 virtioa-o.qcow2
</span></span></code></pre></div><ol start="3">
<li>Rename the compressed image name to virtioa.qcow2:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mv compressedvirtioa.qcow2 virtioa.qcow2
</span></span></code></pre></div><ol start="4">
<li>now you can test your new compressed image on a lab, just wipe the node and start it.</li>
</ol>
<p>If the compressed node works fine, you can delete your original source image:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rm -f. virtioa-o.qcow2
</span></span></code></pre></div><p><strong>Please note</strong>
I tried to compress windows 10 and when using it, it would not boot correctly. I attempted this twice and had issues. So I reverted to use the original virtual disk.</p>
<h2 id="webui-access-method">WebUI Access Method
</h2><h3 id="to-setup-opnsense-web-ui-from-wan">To setup OpnSense web UI from wan
</h3><ol>
<li>in shell on opnsense: <code>pfctl -d</code></li>
<li>You ca now access GUI via WAN IP</li>
<li>disable the &ldquo;Block bogon&rdquo; traffic:
<ol>
<li>interfaces-&gt;WAN &ldquo;Untick&rdquo; both &ldquo;block private networks&rdquo; and block &ldquo;Bogon Networks&rdquo;</li>
</ol>
</li>
<li>I would also go to Firewall &gt; Settings &gt; Advanced and check &ldquo;Disable anti-lockout&rdquo;.</li>
<li>Firewall &ndash;&gt; Settings&ndash;&gt; Advanced &ldquo;Disable reply-to on WAN rules&rdquo;</li>
<li>create the following Firewall rule.</li>
</ol>
<pre tabindex="0"><code>Firewall &gt; Rules &gt; WAN

Click on the &#34;+&#34; to add a rule. Add this rule:

Action: allow
Source: any
Destination: This Firewall
Destination port: 443
</code></pre>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/software/">Software</a>
        
            <a href="/tags/home-lab/">Home Lab</a>
        
            <a href="/tags/networking/">Networking</a>
        
            <a href="/tags/virtual-machine/">Virtual Machine</a>
        
    </section>


    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/post/eve-ng-proxmox-12-07-2024/">
        
        
            <div class="article-image">
                <img src="/post/eve-ng-proxmox-12-07-2024/splash.05b9cce2c6bab085fc61aa779328ffa0_hu7603083287451278784.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post How to install EVE-NG on Proxmox"
                        
                        data-hash="md5-BbnM4sa6sIX8Yap3kyj/oA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">How to install EVE-NG on Proxmox</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/finishing-the-management-network-01-03-2024/">
        
        
            <div class="article-image">
                <img src="/post/finishing-the-management-network-01-03-2024/splash.7aee4ecca8c3b5033454ba1467b71c5b_hu18058751586417416172.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Finishing the Management Network"
                        
                        data-hash="md5-eu5OzKjDtQM0VLoUZ7ccWw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Finishing the Management Network</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/opnsense-vm-install-12-02-2024/">
        
        
            <div class="article-image">
                <img src="/post/opnsense-vm-install-12-02-2024/Splash.124604455d968c4d7cb13b59306367e8_hu3330447614525820836.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post OpnSense Virtual Machine Installation on Proxmox"
                        
                        data-hash="md5-EkYERV2WjE18sTtZMGNn6A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">OpnSense Virtual Machine Installation on Proxmox</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/protect-opnsense-with-2fa-14-06-2024/">
        
        
            <div class="article-image">
                <img src="/post/protect-opnsense-with-2fa-14-06-2024/splash.507fc925e6eb46a7bfa341377f92dc8e_hu16117675703452803260.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Protect OpnSense with 2FA"
                        
                        data-hash="md5-UH/JJebrRqe/o0E3f5Lcjg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Protect OpnSense with 2FA</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/multi-wan-uptime-monitoring/">
        
        
            <div class="article-image">
                <img src="/post/multi-wan-uptime-monitoring/splash.f13424567a6297598008e9702ad0eaca_hu12505550683519494732.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Multi WAN Uptime Monitoring"
                        
                        data-hash="md5-8TQkVnpil1mACOlwKtDqyg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Multi WAN Uptime Monitoring</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2025 Jonathan Moss
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.d2054c8aedfded5b17a8bc8bc549534a9359e544a7e0fc3a730656b607355b72.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
